<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Voluntario</title>
    </head>
<body>
    <header>
        <h1>Panel de Voluntario </h1>
        <p>Tu 煤nica ruta accesible (adem谩s de index.html)</p>
    </header>
    <main>
        <section>
            <h2>Mis Pr贸ximas Jornadas</h2>
            </section>
        <a href="index.html">Volver a la P谩gina Principal</a>
    </main>
    <script>
        function protectRoute(allowedRoles) {
    const userDataJSON = localStorage.getItem("usuario");
    const loginPage = "login.html";
    const homePage = "index.html"; // P谩gina principal de fallback

    // 1. Si no hay sesi贸n, forzar inicio de sesi贸n
    if (!userDataJSON) {
        window.location.replace(loginPage);
        return false;
    }

    const userData = JSON.parse(userDataJSON);
    const userRol = userData.rol ? userData.rol.toLowerCase() : '';

    // 2. Si el rol NO est谩 permitido, redirigir a la p谩gina principal (index.html)
    if (!allowedRoles.includes(userRol)) {
        alert("Acceso denegado. No tienes permisos para esta 谩rea.");
        window.location.replace(homePage);
        return false;
    }
    
    // 3. Si el rol es correcto, la ejecuci贸n del script contin煤a
    return true;
}
        // ... (funci贸n protectRoute) ...

        //  Llama a la funci贸n de protecci贸n:
        const isAllowed = protectRoute(['voluntario']);
        
        // Si no est谩 permitido, el script de protecci贸n ya redirigi贸. 
        // Si isAllowed es true, podemos cargar la l贸gica de la p谩gina.
        if (isAllowed) {
            console.log("Acceso de voluntario concedido.");
            // Aqu铆 ir铆a tu l贸gica de carga de datos para voluntarios
        }
    </script>
</body>
</html>
