<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel - Administrador</title>
    </head>
<body>
    <header>
        <h1>Panel de Administrador 丘뙖잺</h1>
        <p>Tu 칰nica ruta accesible (adem치s de index.html)</p>
    </header>
    <main>
        <section>
            <h2>Gesti칩n de Usuarios y Contenido</h2>
            </section>
        <a href="index.html">Volver a la P치gina Principal</a>
    </main>
    <script>
        function protectRoute(allowedRoles) {
    const userDataJSON = localStorage.getItem("usuario");
    const loginPage = "login.html";
    const homePage = "index.html"; // P치gina principal de fallback

    // 1. Si no hay sesi칩n, forzar inicio de sesi칩n
    if (!userDataJSON) {
        window.location.replace(loginPage);
        return false;
    }

    const userData = JSON.parse(userDataJSON);
    const userRol = userData.rol ? userData.rol.toLowerCase() : '';

    // 2. Si el rol NO est치 permitido, redirigir a la p치gina principal (index.html)
    if (!allowedRoles.includes(userRol)) {
        alert("Acceso denegado. No tienes permisos para esta 치rea.");
        window.location.replace(homePage);
        return false;
    }
    
    // 3. Si el rol es correcto, la ejecuci칩n del script contin칰a
    return true;
}
        // ... (funci칩n protectRoute) ...

        // 游뚿 Llama a la funci칩n de protecci칩n:
        const isAllowed = protectRoute(['administrador']);
        
        if (isAllowed) {
            console.log("Acceso de administrador concedido.");
            // Aqu칤 ir칤a tu l칩gica de carga de datos para el administrador
        }
    </script>
</body>
</html>
