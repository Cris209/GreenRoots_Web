<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Gobierno</title>
    </head>
<body>
    <header>
        <h1>Panel de Gobierno üèõÔ∏è</h1>
        <p>Tu √∫nica ruta accesible (adem√°s de index.html)</p>
    </header>
    <main>
        <section>
            <h2>Reportes de Impacto y Zonas</h2>
            </section>
        <a href="index.html">Volver a la P√°gina Principal</a>
    </main>
    <script>
        function protectRoute(allowedRoles) {
    const userDataJSON = localStorage.getItem("usuario");
    const loginPage = "login.html";
    const homePage = "index.html"; // P√°gina principal de fallback

    // 1. Si no hay sesi√≥n, forzar inicio de sesi√≥n
    if (!userDataJSON) {
        window.location.replace(loginPage);
        return false;
    }

    const userData = JSON.parse(userDataJSON);
    const userRol = userData.rol ? userData.rol.toLowerCase() : '';

    // 2. Si el rol NO est√° permitido, redirigir a la p√°gina principal (index.html)
    if (!allowedRoles.includes(userRol)) {
        alert("Acceso denegado. No tienes permisos para esta √°rea.");
        window.location.replace(homePage);
        return false;
    }
    
    // 3. Si el rol es correcto, la ejecuci√≥n del script contin√∫a
    return true;
}
        // ... (funci√≥n protectRoute) ...

        // Llama a la funci√≥n de protecci√≥n:
        const isAllowed = protectRoute(['gobierno']);
        
        if (isAllowed) {
            console.log("Acceso de gobierno concedido.");
            // Aqu√≠ ir√≠a tu l√≥gica de carga de datos para gobierno
        }
    </script>
</body>
</html>
